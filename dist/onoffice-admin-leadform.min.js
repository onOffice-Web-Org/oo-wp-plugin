document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".multi-page-title").forEach(((group,index)=>{const titleInputs=group.querySelectorAll("input[name^=oopluginformmultipagetitle-value]");const page=group.getAttribute("data-page");const localeSelect=group.querySelector("select[name=oopluginformmultipagetitle-locale].onoffice-input");titleInputs.forEach((titleInput=>{const parent=titleInput.closest(".wp-clearfix.custom-input-field");const lang=titleInput.getAttribute("data-localized");const selectOption=Array.from(localeSelect.options).find((opt=>opt.value===lang));if(lang!=="native"){parent.appendChild(createDeleteButton(page,lang,parent,selectOption))}titleInput.name=`oopluginformmultipagetitle[${page}][${lang}]`;if(lang!=="native"){removeLanguageFromSelect(selectOption)}}));localeSelect.addEventListener("change",(function(){const selectedLocale=this.value;const selectedOption=this.options[localeSelect.selectedIndex];const selectedLocaleText=selectedOption.text;const parent=localeSelect.closest(".wp-clearfix.custom-input-field");const identifier=`oopluginformmultipagetitle[${page}][${selectedLocale}]`;let existingInput=group.querySelector(`input[name="${identifier}"]`);if(!existingInput){removeLanguageFromSelect(selectedOption);const paragraph=document.createElement("p");paragraph.classList.add("wp-clearfix","custom-input-field");paragraph.appendChild(createLabel(identifier,page,selectedLocaleText));paragraph.appendChild(createInput(identifier));paragraph.appendChild(createDeleteButton(page,selectedLocale,paragraph,selectedOption));parent.insertAdjacentElement("beforebegin",paragraph)}}))}));function removeLanguageFromSelect(selectOption){if(selectOption){selectOption.hidden=true;selectOption.style.display="none";selectOption.disabled=true}}function addLanguageToSelect(lang,selectOption){if(selectOption){selectOption.hidden=false;selectOption.style.display="block";selectOption.disabled=false}}function createLabel(identifier,page,selectedLocaleText){const label=document.createElement("label");const nativeInput=document.querySelector(`input[name="oopluginformmultipagetitle[${page}][native]"]`);if(nativeInput){const nativeLabel=document.querySelector(`label[for="${nativeInput.id}"]`);label.textContent=(nativeLabel?.textContent??"")+" "+selectedLocaleText}label.htmlFor=identifier;return label}function createInput(identifier){const input=document.createElement("input");input.id=identifier;input.type="text";input.name=identifier;return input}function createDeleteButton(page,lang,parent,selectOption){const deleteButton=document.createElement("button");deleteButton.id="deletePageTitle"+`[${page}][${lang}]`;deleteButton.className="dashicons dashicons-dismiss multi-page-title-delete";deleteButton.addEventListener("click",(function(e){if(parent){parent.remove();addLanguageToSelect(lang,selectOption)}}));return deleteButton}}));